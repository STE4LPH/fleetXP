import base64
script = "aW1wb3J0IHN5cyx0aW1lLG9zLHB5ZmlnbGV0Cm9zLnN5c3RlbSgicGlwIGluc3RhbGwgYWxpdmVfcHJvZ3Jlc3MiKQpmcm9tIGFsaXZlX3Byb2dyZXNzIGltcG9ydCBhbGl2ZV9iYXIKb3Muc3lzdGVtKCJjbGVhciIpCiNSb2pvClIgPSAnXDAzM1sxOzMxbScKCiNSb3NhClJTPSAiIFwwMzNbMzg7NTsyMDdtICIKCiNWZXJkZQpWID0gJ1wwMzNbMTszMm0nCkdLPSdcMDMzWzkybScKCiNPc2N1cm8gVmVyZGUKUyA9ICdcMDMzWzkybScKCiNBbWFyaWxsbwpBID0gJ1wwMzNbMTszM20nCgojQXp1bApaID0gJ1wwMzNbMDszNG0nCgojTW9yYWRvCk0gPSAnXDAzM1sxOzM1bScKCiNtb3JhZG8gb3NjdXJvCk1HPSAnIFwwMzNbMzVtICcKCiNDZWxlc3RlCkMgPSAnXDAzM1sxOzM2bScKCiNCbGFuY28KQiA9ICdcMDMzWzM3O20nCgojTmVncm8KRyA9ICdcMDMzWzA7MzAnCgojUmVpbmljaWFyCkUgPSAnXDAzM1swbScKbXVybyA9IE0rIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iK0UKbXVvID0gWisiXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIitFCnByaW50IChtdXJvKQpwcmludCAoVikKYmFubmVyID0gcHlmaWdsZXQuZmlnbGV0X2Zvcm1hdCgiRmxlZXQgWFAiKQpmb3IgaSBpbiBiYW5uZXI6CiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIHByaW50IChpLGVuZD0iIikKICAgIHRpbWUuc2xlZXAoMDAwLjAwMSkgCnByaW50IChBKyJDcmVhZG9yIDoiLCBSKyIgUElSQVRFIEZPVU5ERVIiLEMrIihUb3AgOCkiK0UpCnByaW50IChBKyIgICAgICAgVmVyc2lvbjoiLFYrIkJldGEgMi4wIikKcHJpbnQgKG11cm8pCnRpbWUuc2xlZXAoMC41KQpkZWYgbnVtYmVycG9zdCh2YWxvcik6CiAgICB0cnk6CiAgICAgICAgdmFsb3IgPSBpbnQodmFsb3IpCiAgICAgICAgaWYgdmFsb3IgPiAwOgogICAgICAgICAgICByZXR1cm4gdmFsb3IKICAgICAgICBwcmludCAobXVvKQogICAgICAgIG1oID0gUisiXG5ObyBzZSBwZXJtaXRlbiBuw7ptZXJvcyBuZWdhdGl2b3MgcHV0b1xuIitFCiAgICAgICAgZm9yIGsgaW4gbWg6CiAgICAgICAgCXN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIAlwcmludCAoayxlbmQ9IiIpCiAgICAgICAgCXRpbWUuc2xlZXAoMC4xKQogICAgICAgIHRpbWUuc2xlZXAoMC41KQogICAgICAgIHByaW50IChtdW8pCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBleGNlcHQ6CiAgICAgICAgcHJpbnQobXVvKQogICAgICAgIG1rID0gUisiXG5Qb3JxdWUgbWllcmRhIHBvbmVzIHtMRVRSQVN9IGZlbyBkZSBtaWVyZGFcbiAiK0UKICAgICAgICBmb3IgayBpbiBtazoKICAgICAgICAJc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgCXByaW50IChrLGVuZD0iIikKICAgICAgICAJdGltZS5zbGVlcCgwLjEpCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHByaW50IChtdW8pCiAgICAgICAgcmV0dXJuIEZhbHNlCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYga3JhbShwcmVndW50YSk6CiAgICByZXNwdWVzdGEgPSBGYWxzZQogICAgd2hpbGUgcmVzcHVlc3RhIGlzIEZhbHNlOgogICAgICAgIHJlc3B1ZXN0YSA9IG51bWJlcnBvc3QoaW5wdXQocHJlZ3VudGEpKQogICAgcmV0dXJuIGludChyZXNwdWVzdGEpCmRlZiBlamVjdXQoKToKCXdoaWxlIFRydWU6CgkJdG90YWwgPSAxMAoJCWp1Z2Fkb3IgPSAiUGxheWVyIgkKCQluYW1lID0gaW5wdXQoZiJcbk5vbWJyZSBkZWwgW3tBK2p1Z2Fkb3IrRX1dID0+ICIrRSkKCQlwcmludCAoIlxuIittdXJvKQoJCW5hbWUgPSBuYW1lLnRpdGxlKCkKCQlsZXZlbCA9IGtyYW0oZiJcbk5pdmVsIGRlIFt7QytuYW1lK0V9XSA9PiAiKQoJCXByaW50ICgiXG4iK211cm8pCgkJbGV2ZWxfb25lID0gaW50KGxldmVsKSAtIDEJCgkJYW5sZWNlbCA9ICBzdHIobGV2ZWxfb25lKSArICIwIgoJCXJlc3VsdCA9IGludChhbmxlY2VsKSAqIGxldmVsX29uZQoJCWNvZGluZyA9ICAoZm9ybWF0KHJlc3VsdCwgJyxkJykpCgkJZm9yIGkgaW4gY29kaW5nOgoJCQlpZiBpID09ICIsIjoKCQkJCXIgPSBBKyIsIitFCgkJCQljb2RpbmcgPSBjb2RpbmcucmVwbGFjZSgiLCIscikKCQl3aXRoIGFsaXZlX2JhcigxMDAsIGJhcj0nYnViYmxlcycsc3Bpbm5lcj0nY2lyY2xlcycpIGFzIGJhcjoKCQkJZm9yIGkgaW4gcmFuZ2UoMTAwKToKCQkJCXRpbWUuc2xlZXAoMC4wMykKCQkJCWJhcigpCgkJZ28gPSAiWFAiCgkJcHJpbnQgKGYiXG5FbCBqdWdhZG9yIHtDK25hbWUrRX0gdGllbmUge1YrZ28rRX06Iixjb2RpbmcsIlxuIikKCQl3aXRoIGFsaXZlX2JhcigxMDAsIGJhcj0nYnViYmxlcycsIHNwaW5uZXI9J2NpcmNsZXMnKSBhcyBiYXI6CgkJCWZvciBpIGluIHJhbmdlKDEwMCk6CgkJCQl0aW1lLnNsZWVwKDAuMDMpCgkJCQliYXIoKQoJCXByaW50IChtdXJvKQoJCXByaW50IChtdW8pCgkJZXhpdCA9IFIrImV4aXQiK0UKCQlwcmludCAoQStmIlxuLSBbezF9XSB7TX0oU2FsaXIgZGVsIHByb2dyYW1hKSIrRSkKCQlwcmludCAoQStmIlxuLSBbezJ9XSB7TX0oU2VndWlyIGNvbiBlbCBwcm9ncmFtYSkiK0UpCgkJcHJpbnQgKG11bykKCQlvcGNpb24gPSBpbnB1dCgiXG5vcGNpb25lcyA9PiAiKQoJCXdoaWxlIFRydWU6CgkJCWlmIG9wY2lvbiA9PSAiMSI6CgkJCQkKCQkJCXByaW50IChSKyJcbkJ5ZSBiYiA8MyIrRSxlbmQ9IlxyIikKCQkJCXRpbWUuc2xlZXAoMikKCQkJCXNtciA9IEMrIlR1IG1hZHJlIG5vIHRlIHF1aWVyZSA6KSIrRQoJCQkJZm9yIGsgaW4gc21yOgoJCQkJCXN5cy5zdGRvdXQuZmx1c2goKQoJCQkJCXByaW50IChrLGVuZD0iIikKCQkJCQl0aW1lLnNsZWVwKDAuMSkKCQkJCXRpbWUuc2xlZXAoMC41KQoJCQkJb3Muc3lzdGVtKCJjbGVhciIpCgkJCQkKCQkJCXN5cy5leGl0KCkJCQkJCgkJCWVsaWYgb3BjaW9uID09ICIyIjoKCQkJCQlvcy5zeXN0ZW0oImNsZWFyIikKCQkJCQlwcmludCAobXVybykKCQkJCQlwcmludCAoVikKCQkJCQliYW5uZXIgPSBweWZpZ2xldC5maWdsZXRfZm9ybWF0KCJGbGVldCBYUCIpIAoJCQkJCXByaW50KGJhbm5lcitFKSAKCQkJCQlwcmludCAoQSsiQ3JlYWRvciA6IiwgUisiIFBJUkFURSBGT1VOREVSIixDKyIoVG9wIDgpIitFKQoJCQkJCXByaW50IChBKyIgICAgICAgIFZlcnNpb246IixWKyJCZXRhIikKCQkJCQlwcmludCAobXVybykKCQkJCQllamVjdXQoKQoJCQllbHNlOgoJCQkJcHJpbnQobXVvKQoJCQkJcHJpbnQgKFIrJ2Vycm9yIG5lZ3JvIGRlIG1pZXJkYScrRSxlbmQ9IlxyIikKCQkJCXByaW50KG11bykKCQkJCQoJCQkJdGltZS5zbGVlcCgxKQoJCQkJb3BjaW9uID0gaW5wdXQoIlxub3BjaW9uZXMgPT4gIikKCmVqZWN1dCgpCgojIDQwNywyNjYsNjc4CgojNDA3LDI5OSwyNDEKIyAtIDkwMDAwIGVzdGEgY2FtYmlhZG8KIyAtIDU3NDM4Cg=="
exec(base64.b64decode(script))
